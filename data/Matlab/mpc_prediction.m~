clear; close all; clc;
global target;

%% Load Dataset
trial = 00;
folder = 'tests';
name = 'test_';
load(strcat(folder,'/',name,num2str(trial,'%2.2d'),'.mat'));

%% Configure simulationb
N = size(up,2);  % data size


%% Loop key
for i=1:N    
    
    figure(1)
    subplot(2,1,1)
    plot(yp{i}(1:N-i+1,2),yp{i}(1:N-i+1,1), '.-')
    plot_target_X('--r')

    subplot(2,1,2)
    plot(yp{i}(1:N-i+1,2),yp{i}(1:N-i+1,3), '.-')
    plot_target_Z('--r')
    
    figure
    pause;
    
end

function plot_target(line)
    global target;
    plot_target_X(line)
    plot_target_Z(line)
end

function plot_target_X(line)
    global target;
    yline(target(1), line)
end

function plot_target_Z(line)
    global target;
    yline(target(3), line)
end